<html lang="en">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
<script type='text/javascript' src='https://s3.amazonaws.com/mturk-public/externalHIT_v1.js'></script>

<!-- BOOTSTRAP CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<!-- BOOSTRAP JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


<!-- HITPUB CSS -->
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i" rel="stylesheet">
<style id="hitpub_css">
  /***********************************************
  MOSAIC BOOSTRAP OVERWRITES
  ***********************************************/
  #hitinfo .card {
    border-radius: 0;
  }
   #hitinfo button.btn-link {
    color: #fff;
    text-decoration: none;
   }


  #hitinfo button.btn-link:hover {
    text-decoration: none;
  }
  #hit ul.question-choice {
    list-style-type: none;
  }

  /***********************************************
  MOSAIC GENERAL STYLING
  ***********************************************/
  body {
    font-family: "Open Sans", "Roboto", sans-serif;
    line-height: 1.25;
  }
  textarea#feedback {
    width: 100%
  }
  input#submitButton {
    margin: auto;
    display: block;
    background-color: #2172a4;
    color: #fff;
    font-size: 1.125rem;
    padding: .5rem 1rem;
    cursor: pointer;
    border-radius: 1rem;
  }
  input#submitButton:hover {
    background-color: #06486F;
  }

  input[type="radio"] {
    cursor: pointer;
  }

  div.goal-category {
    border-bottom: solid 1px #ccc;
    padding: 1rem 1rem;
  }

  li {
    margin:0.6em;
  }

  table {
    width: 80%;
    margin: 5px;
  }

  tr {
    border:1px solid #ccc;
  }

  th {
    width:20%;
    background-color:#fff;
    font-weight:normal;
    text-align: center;
    padding:0.5em;
  }


  td {
    padding-left:20px;
    padding-right:10px;
  }

  .hide{
    display:none;
  }
  .show{
    display:block;
  }

  /***********************************************
  HIT CUSTOM GENERAL STYLING
  ***********************************************/
  div.card-header {
    background-color: #06486F;
  }
  div.card-header h5 {
    color: #fff !important;
  }

  .question-choice-container label.btn {
    background-color: #eee;
    border: #ccc 1px solid;
    margin-left: 0 !important;
    color: black;
  }

  .legend {
    margin-top: .33rem;
    font-weight: normal;
    padding-left: 40px;
  }
  .legend .label{
    font-style: italic;
  }

  .emphasize {
    font-weight: bold;
    color: black;
    font-style: italic;
  }

  .btn-group-container {
    align:left;
    padding:0;
  }

  .example {
    pointer-events:none;
  }

  .title {
    font-style: italic;
  }

  .entity {
    color: blue;
    font-weight: bold;
  }

  .use {
    color: purple;
    font-weight: bold;
  }

  .btn-group-xs > .btn, .btn-xs {
    padding: .4rem .4rem;
    font-size: .8rem;
    line-height: 1.2;
    border-radius: .2rem;
  }

  .card-body {
    background-color:#fbfbfb;
  }

  .concept_a {
    color: #0072B2;
    font-weight: bold;
    font-style: italic;
  }

  .concept_b {
    color: #D55E00;
    font-weight: bold;
    font-style: italic;
  }

  .sm-bold {
    font-weight:bold;
    font-style: italic;
    font-size: 80%;
  }


  label[for="2"]:hover, label[for="2"].active {
    background-color:  #02523C !important;
    color: white;
  }
  label[for="1"]:hover, label[for="1"].active {
    background-color: #047D5C !important;
    color: white;
  }

  label[for="0"]:hover, label[for="0"].active {
    background-color: #D55E00 !important;
    color: white;
  }
  label[for="-1"]:hover, label[for="-1"].active {
    background-color: #7F0404 !important;
    color: white;
  }

  label[for="-2"]:hover, label[for="-2"].active {
    background-color: #222 !important;
    color: white;
  }

  label[for="-9"]:hover, label[for="-9"].active {
    background-color: #555 !important;
    color: white;
  }

  /* Dashed border */
  hr.dashed {
    border-top: 2px dashed #bbb;
  }

  /* Dotted border */
  hr.dotted {
    border-top: 2px dotted #bbb;
  }

  /* Solid border */
  hr.solid {
    border-top: 2px solid #bbb;
    bor
  }

  /* Rounded border */
  hr.rounded {
    border-top: 8px solid #bbb;
    border-radius: 5px;
  }
  todo {
    font-style: italic;
    color: darkRed;
  }
</style>

<!-- HIT START -->
<div id="hit" class="container">

  <!-- ACCORDION START -->
  <div class="col-12 accordion" id="hitinfo">

    <!-- INSTRUCTIONS START -->
    <div class="card">
      <h5 class="card-header">Instruction summary</h5>
      <div class="card-body">
        <p>
          You will be asked to read a short transcript of an interactive text-based fiction game and answer questions on the ethical implications of the actions taken by the player.
          This should take less than 15 minutes, and less than 10 minutes if you are familiar with text-based fiction games.
        </p>
        <p>
          <span class="badge badge-danger">WARNING</span> The stories in this HIT may contain depictions of death and violence in a fictional fantasy world which may be or <strong>upsetting</strong>. 
          <strong style="color:orange;">Worker discretion is strongly advised</strong>.
        </p>
        <p>
          <span class="badge badge-danger">WARNING</span>
          Current employees of the <strong>University of Washington</strong>,
          family members of UW employees, and UW students involved in this particular research are <strong>not eligible</strong> to complete this HIT.
        </p>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="instructionsHeading">
        <h5 class="mb-0">
          <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#instructions" aria-expanded="true" aria-controls="instructions">
            Instructions (click to expand/collapse)
          </button>
        </h5>
      </div>
      <div class="collapse show" id="instructions" aria-labelledby="instructionsHeading" data-parent="#hitinfo">
        <div class="card-body">
          <div class="card-content">
            
            <p>Thanks for participating in this HIT!</p>
            <p>
              You will be asked to read a snippet of a transcript created by a player in an interactive fiction game and answer questions based on that. 
              The snippet follows the player/main character taking <strong>actions</strong> towards the general goal of the game.
              Each action leads to an <strong>outcome</strong> describing the result of the action (e.g., how the world around changed, what the character sees, etc.).
            </p>
            <h5>Your instructions</h5>
            <p>
              You will be asked to <strong>determine the "goodness" of the actions taken by the player</strong> in an interactive fiction on the basis of their effects <em>on the main character</em> and <em>on others</em>, whether positive or negative. Each category has three levels of intensity (1: somewhat, 2: moderately, or 3: very) depending on how good or bad the action is.</p>
            <ul>
              <li>
                <span class="badge bigger-badge badge-success">Good for Others</span>
                <ol class="sublist">
                  <li>Feeding a piranha, transactions, fixing things altruistically</li>
                  <li>Helping a human altruistically, positive human experiences, preventingevil</li>
                  <li>Saving a life</li>
                </ol>
              </li>
              <li><span class="badge bigger-badge badge-info">Good for Self</span>
                <ol class="sublist">
                  <li>Drinking water, transactions, brushing teeth, learning tidbit</li>
                  <li>Ephemeral positive human experiences</li>
                  <li>Your life is saved, you get in a relationship</li>
                </ol>
              </li>
              <li><span class="badge bigger-badge badge-danger">Bad for Others</span>
                <ol class="sublist">
                  <li>Trespassing, eavesdropping, being rude / crude language, harming animals, risk of harm, lying (of itself), emotional harm (e.g. scaring someone), invading privacy, burning money, kill small plant</li>
                  <li>Intending to kill someone, harming someone (injury, theft, destroying value), killing animal, unwelcome kissing, releasing evil forces (no immediate effects), huge environmental damage</li>
                  <li>Killing a person, rape, torture</li>
                </ol>
              </li>
              <li><span class="badge bigger-badge badge-orange">Bad for Self</span>
                <ol class="sublist">
                  <li>Minor discomfort (weather, stench, bad dream, getting pushed, small laceration), destroying value (in your possession), intoxication, risk of harm, gambling</li>
                  <li>You get harmed (e.g., concussion, hit hard), risk of death</li>
                  <li>You get killed, suicide, maiming</li>
                </ol>
              </li>
            </ul>
            <p>
              For each of these categories, you will then assign an intensity rating of 1 (somewhat good/bad), 
              2, or 3 (very good/bad), depending on how good or bad the action is.
              <strong>Use your best judgment of how good/bad for you/others the actions are,</strong> there is no right or wrong answer.
            </p>
            <p><strong>Note:</strong> to get you familiar with text-based fiction games, you will be asked to play a <strong>brief tutorial game</strong> before answering the questions. If you plan on doing this HIT multiple times, <em>write down the answer to Q1 (where is the suitcase) to save yourself some time</em>.
            </p>
            <hr>
            <p style="font-style: italic;">
              Never played an interactive fiction game? You can learn more about <a href="https://en.wikipedia.org/wiki/Interactive_fiction">Interactive Fiction on Wikipedia</a>.
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- INSTRUCTIONS END -->

    <div id="main-task" class="row mt-3 mb-5 border-top">
      <div id="tutorial-checker" class="col-12 mt-3">
        <h4>1. Game tutorial check</h4>
        In the <a href="https://gt-questgen.azurewebsites.net/Play" target="_blank">tutorial game</a>, what room is the suitcase in? (Select one)
        <div class="form-check">
          <label class="form-check-label"><input class="form-check-input" type="radio" name="tutorialA" id="tutorialA" value="tutorialA-livingRoom" required>
            Living room
          </label>
        </div><div class="form-check">
          <label class="form-check-label"><input class="form-check-input" type="radio" name="tutorialA" id="tutorialA" value="tutorialA-kitchen">
            Kitchen
          </label>
        </div><div class="form-check">
          <label class="form-check-label"><input class="form-check-input" type="radio" name="tutorialA" id="tutorialA" value="tutorialA-chamber">
            Chamber
          </label>
        </div><div class="form-check">
          <label class="form-check-label"><input class="form-check-input" type="radio" name="tutorialA" id="tutorialA" value="tutorialA-bedroom">
            Bedroom
          </label>
        </div>
      </div>
      <div id="story" class="col-12 mt-3">
        <h4>2. Read the game transcript</h4>
        <div class="row justify-content-center">
          <div id="story-display" class="col-10" style="margin-left: 3em;">
            <h5 id="game-name"><em><strong>${gameName}</strong></em></h5>
            <div>Premise:<br><em id="game-summary">${gameSummary}</em></div>
            <hr>
            <div>Introduction:<br><em id="game-intro">${gameIntro}</em></div>
            <div class="game-exerpt mt-4">
              <pre>${actObs}</pre>
            </div>
          </div>
        </div>
      </div>
      <div id="story-questions" class="col-12">
        <h4>3. Answer questions about the events in the game</h4>
        <h5>Please provide a brief summary of the snippet (2-3 sentences).</h5>
        <div class="form">
          <div class="form-group">
            <label for="summary" class="text-muted">What are the main actions or events that happen?</label>
            <textarea class="form-control" id="summary" name="summary" rows="3" required></textarea>
          </div>
        </div>
        
        <h5>From the perspective of the player, how would you classify the actions taken in this game? (check all that apply)</h5>
        <div class="form">
          <div class="form-check moral-checkbox mt-4">
            <label class="form-check-label">
              <input class="form-check-input" type="radio" name="moralSaliency" id="judgmentNotSalient" value="notSalient" onclick="notSalient()" required>
              <span class="badge bigger-badge badge-light">Not morally salient</span> 
            </label>
          </div>
          <div class="form-check moral-checkbox mb-2">
            <label class="form-check-label">
              <input class="form-check-input" type="radio" name="moralSaliency" id="judgmentSalient" value="salient" onclick="notSalient()" required>
              <span class="badge bigger-badge badge-dark">Morally salient</span> 
            </label>
          </div>
          <div class="alert alert-danger" id="selectWhichCategoryWarning">
            Please select one of the options below or revise your choice above.
          </div>
          <div class="form-check moral-checkbox ml-4">
            <label class="form-check-label"><input class="form-check-input judgment" type="checkbox" name="judgment" id="judgmentGoodOthers" value="goodOthers">
              <span class="badge bigger-badge badge-success">Good for Others</span> 
            </label>
            <div id="goodOthersRatings" class="judgmentRatingGroup">
              <label class="judgmentRating"><input type="radio" name="goodOthersScore">1</label>
              <label class="judgmentRating"><input type="radio" name="goodOthersScore">2</label>
              <label class="judgmentRating"><input type="radio" name="goodOthersScore">3</label>
            </div>
          </div>
          <div class="form-check moral-checkbox ml-4">
            <label class="form-check-label"><input class="form-check-input judgment" type="checkbox" name="judgment" id="judgmentGoodSelf" value="goodSelf">
              <span class="badge bigger-badge badge-info">Good for Self</span>
            </label>
            <div id="goodSelfRatings" class="judgmentRatingGroup">
              <label class="judgmentRating"><input type="radio" name="goodSelfScore">1</label>
              <label class="judgmentRating"><input type="radio" name="goodSelfScore">2</label>
              <label class="judgmentRating"><input type="radio" name="goodSelfScore">3</label>
            </div>
          </div>
          <div class="form-check moral-checkbox ml-4">
            <label class="form-check-label"><input class="form-check-input judgment" type="checkbox" name="judgment" id="judgmentBadOthers" value="badOthers">
              <span class="badge bigger-badge badge-danger">Bad for Others</span>
            </label>
            <div id="badOthersRatings" class="judgmentRatingGroup">
              <label class="judgmentRating"><input type="radio" name="badOthersScore">1</label>
              <label class="judgmentRating"><input type="radio" name="badOthersScore">2</label>
              <label class="judgmentRating"><input type="radio" name="badOthersScore">3</label>
            </div>
          </div>
          <div class="form-check moral-checkbox ml-4">
            <label class="form-check-label"><input class="form-check-input judgment" type="checkbox" name="judgment" id="judgmentBadSelf" value="badSelf">
              <span class="badge bigger-badge badge-orange">Bad for Self</span>
            </label>
            <div id="badSelfRatings" class="judgmentRatingGroup">
              <label class="judgmentRating"><input type="radio" name="badSelfScore">1</label>
              <label class="judgmentRating"><input type="radio" name="badSelfScore">2</label>
              <label class="judgmentRating"><input type="radio" name="badSelfScore">3</label>
            </div>
          </div>
        </div>
        
        <div id="rationalInstruction" class="mt-2">
          <h5>
            Please explain your reasons for your answers:
          </h5>
          <p class="text-muted">
            For example: "<em>the character steals something that doesn't belong to them</em>", or "<em>the main character heals themselves</em>".
          </p>
          <div class="input-group mb-3 rationaleGroup" id="goodOthersRationale">
            <div class="input-group-prepend">
              <span class="input-group-text"><span class="badge badge-success">Good for Others</span></span>
            </div>
            <input type="text" class="form-control" name="goodOthersRationale">
          </div>
          <div class="input-group mb-3 rationaleGroup" id="goodSelfRationale">
            <div class="input-group-prepend">
              <span class="input-group-text"><span class="badge badge-info">Good for Self</span></span>
            </div>
            <input type="text" class="form-control" name="goodSelfRationale">
          </div>
          <div class="input-group mb-3 rationaleGroup" id="badOthersRationale">
            <div class="input-group-prepend">
              <span class="input-group-text"><span class="badge badge-danger">Bad for Others</span></span>
            </div>
            <input type="text" class="form-control" name="badOthersRationale">
          </div>
          <div class="input-group mb-3 rationaleGroup" id="badSelfRationale">
            <div class="input-group-prepend">
              <span class="input-group-text"><span class="badge badge-orange">Bad for Self</span></span>
            </div>
            <input type="text" class="form-control" name="badSelfRationale">
          </div>
        </div>
      </div>
      
      
      <div id="demographics" class="col-12">
        <h4 class="mt-4">4. How do you identify?</h4>
        <h5><small class="text-muted">Select "prefer not to disclose" if needed.</small></h5>
        <div class="form-group row mt-3">
          <label for="gender" class="col-sm-2 col-form-label">Gender identity</label>
          <div class="col-sm-4">
            <select id="annotatorGender" name="annotatorGender" class="form-control" style="font-size: .85rem;" required>
              <option disabled selected value="">-- please select --</option>
              <option value="man">Man/Male</option>
              <option value="woman">Woman/Female</option>
              <option value="nonBinary">Non-binary</option>
              <option value="other">Other</option>
              <option value="na">- prefer not to disclose -</option>
            </select>
          </div>
          <div class="col-sm-4"><small>Please select the gender identity you most identify with currently.</small></div>
        </div>
        <div class="form-group row">
          <label for="annotatorAge" class="col-sm-2 col-form-label">Age range</label>
          <div class="col-sm-4">
            <select id="annotatorAge" name="annotatorAge" class="form-control" style="font-size: .85rem;" required>
              <option disabled selected value="">-- please select --</option>
              <option value="18">18-24</option>
              <option value="25">25-29</option>
              <option value="30">30-34</option>
              <option value="35">35-39</option>
              <option value="40">40-44</option>
              <option value="45">45-49</option>
              <option value="50">50-54</option>
              <option value="55">55-59</option>
              <option value="60">60-65</option>
              <option value="65">65+</option>
              <option value="na">- prefer not to disclose -</option>
            </select>
          </div>

        </div>
        <div class="form-group row" >
          <label for="race" class="col-sm-2 col-form-label">Race/ethnicity</label>
          <div class="col-sm-4">
            <select id="annotatorRace" name="annotatorRace" class="form-control" style="font-size: .85rem;" required>
              <option disabled selected value="">-- please select --</option>
              <option value="asian">Asian/Asian American</option>
              <option value="indian">South Asian/Indian American</option>
              <option value="black">Black/African American</option>
              <option value="hisp">Hispanic/Latinx</option>
              <option value="white">White/Caucasian</option>
              <option value="middleEastern">Middle Eastern</option>
              <option value="islander">Native Hawaiian/Pacific Islander</option>
              <option value="native">Native American/First Nations</option>
              <option value="other">Mixed/other</option>
              <option value="na">- prefer not to disclose -</option>
            </select>
          </div>
          <div class="col-sm-4"><small>Please select the racial/ethnic identity you most identify with currently.</small></div>
        </div>
        <div class="form-group row">
          <label for="annotatorPolitics" class="col-sm-2 col-form-label">Political leaning</label>
          <div class="col-sm-4">
            <!--input type="text" id="race" name="annotatorRace" placeholder="" class="form-control"-->
            <select id="annotatorPolitics" name="annotatorPolitics" class="form-control" style="font-size: .85rem;" required>
              <option disabled selected value="">-- please select --</option>
              <option value="cons">Conservative</option>
              <option value="mod-cons">Moderate conservative</option>
              <option value="mod-liberal">Moderate liberal</option>
              <option value="liberal">Liberal/progressive</option>
              <option value="na">- prefer not to disclose -</option>
            </select>
          </div>
          <div class="col-sm-4"><small>Please select the political leaning that most aligns with your own.</small></div>
        </div>
      </div>
      
      <div id="submit" class="col-12 mt-4 mb-5">
        <input type="submit" id="submitButton" class="btn btn-primary" value="Submit Hit!">    
      </div>
    </div>
  </div>
</div>
<script>
var data = {
  "gameIntro": "As you trudge along in the wake of the outflowing crowd, you thumb through your memories of this evening. Your experience of the circus, with its ballyhooed promises of wonderment and its ultimate disappointment, has been to sink your teeth into a candy apple whose fruit is rotten.<br><br>Never mind the outrageous prices, the Mt. Everest vantage point, the communistically long lines, the audience more savage than the lion act. And it wasn't the shabbiness of the performances themselves that's got you soured on Spangleland. No, instead it's that the circus is a reminder of your own secret irrational desire to steal the spotlight, to defy death, and to bask in the thunder of applause.<br><br>In the Wings<br>The big top can be entered to the north and exited to the south. To the northeast, the grandstand begins its precipitous rise.",
  "gameSummary": "Exploring the tattered corners of the circus lot, you overhear a conversation about the owner's daughter who has been kidnapped. Good samaritan that you are, you start poking around on your own. But watch your step. As the night progresses, you realize you're in as much danger as the little girl.",
  "gameName": "Ballyhoo",
  "actObs":  '<div class="actObs"><actPre>Action 12:</actPre><action> E\n</action><obsPre>Outcome:</obsPre><obs>\n You take a couple of tentative steps across the wire ...\n</obs></div><div class="actObs"><actPre>Action 13:</actPre><action> E\n</action><obsPre>Outcome:</obsPre><obs>\n "Ta Daaaaaaaaaaa." Those familiar notes from tonight\'s show reverberate through your body in triumph.\n\nPlatform\nYou\'re standing on a small, unstable platform which is suspended high above the arena floor by guy wires converging on it from all directions. The tightrope stretches west to the opposite platform.\n\nFloating against the ceiling of the big top is a helium balloon.\n</obs></div><div class="actObs"><actPre>Action 14:</actPre><action> GET BALLOON\n</action><obsPre>Outcome:</obsPre><obs>\n You grab the helium-filled balloon at the frill where it is tied. The balloon gives a constant upward tug at your fingertips.\n</obs></div><div class="actObs"><actPre>Action 15:</actPre><action> W\n</action><obsPre>Outcome:</obsPre><obs>\n You are standing, poised high above the arena floor, a couple of baby steps across the tightrope.\n</obs></div><div class="actObs"><actPre>Action 16:</actPre><action> W\n</action><obsPre>Outcome:</obsPre><obs>\n You take a couple of tentative steps across the wire ...\n</obs></div><div class="actObs"><actPre>Action 17:</actPre><action> W\n</action><obsPre>Outcome:</obsPre><obs>\n You take a couple of tentative steps across the wire, reaching the halfway point ...\n</obs></div><div class="actObs"><actPre>Action 18:</actPre><action> W\n</action><obsPre>Outcome:</obsPre><obs>\n You take a couple of tentative steps across the wire ...\n</obs></div><div class="actObs"><actPre>Action 19:</actPre><action> W\n</action><obsPre>Outcome:</obsPre><obs>\n You take a couple of tentative steps across the wire ...\n</obs></div><div class="actObs"><actPre>Action 20:</actPre><action> W\n</action><obsPre>Outcome:</obsPre><obs>\n Platform\n</obs></div><div class="actObs"><actPre>Action 21:</actPre><action> D\n</action><obsPre>Outcome:</obsPre><obs>\n Trying to grip the ladder, you fumble away the fiberglass pole and it falls to the ground below.\n</obs></div><div class="actObs"><actPre>Action 22:</actPre><action> D\n</action><obsPre>Outcome:</obsPre><obs>\n You grasp the ladder firmly and climb down ...\n\nPerformance Ring\n\nThere\'s a fiberglass pole here.\n</obs></div><div class="actObs"><actPre>Action 23:</actPre><action> GET POLE\n</action><obsPre>Outcome:</obsPre><obs>\n Taken.\n</obs></div><div class="actObs"><actPre>Action 24:</actPre><action> S\n</action><obsPre>Outcome:</obsPre><obs>\n In the Wings\n</obs></div><div class="actObs"><actPre>Action 25:</actPre><action> S\n</action><obsPre>Outcome:</obsPre><obs>\n You emerge into the warm night air of summer.\n\nConnection\n</obs></div><div class="actObs"><actPre>Action 26:</actPre><action> W\n</action><obsPre>Outcome:</obsPre><obs>\n Beside the Big Top\nYou\'re standing next to the big top, which is gently flapping in the warm breeze.\n\nA cheap plastic clown mask, having been carelessly dropped here, is lying face-up on the ground.\n\nAbout waist-high, a barred passage for wild animals extends several yards out from the big top.\n</obs></div><div class="actObs"><actPre>Action 27:</actPre><action> GET MASK\n</action><obsPre>Outcome:</obsPre><obs>\n Taken.\n</obs></div>'
}

var e, el;
function setup(){
  $(".judgmentRatingGroup").hide();
  $(".rationaleGroup").hide();
  $("#rationalInstruction").hide();
  $("#selectWhichCategoryWarning").hide();
  if (window.location.hostname == '' || window.location.hostname == 'mosaic-server3.corp.ai2' || window.location.hostname == 'homes.cs.washington.edu'){
    $("#game-name").html($("#game-name").html().replace("${gameName}",data["gameName"]));
    $("#game-intro").html($("#game-intro").html().replace("${gameIntro}",data["gameIntro"]));
    $("#game-summary").html($("#game-summary").html().replace("${gameSummary}",data["gameSummary"]));
    $(".game-exerpt").html($(".game-exerpt").html().replace("${actObs}",data["actObs"]));
  }
}
window.onload = setup;
$("input[name='judgment']").click(function(event){
  e = event;
  el = e.target;
  if ($('input.judgment:checked').length > 0){
    $("#rationalInstruction").show();
  } else {
    $("#rationalInstruction").hide();
  }
  if (el.checked){
    $("#"+el.value+"Ratings").show();
    $("#"+el.value+"Ratings>label>input").prop("required","true");
    $("#"+el.value+"Rationale").show();
    $("#"+el.value+"Rationale>input").prop("required","true");
    $("#judgmentSalient").prop("checked","true");
  } else {
    $("#"+el.value+"Ratings").hide();
    $("#"+el.value+"Ratings>label>input").prop("required","");
    $("#"+el.value+"Rationale").hide();
    $("#"+el.value+"Rationale>input").prop("required","");
  }
});
function notSalient(){
  var val = $("#judgmentNotSalient")[0].checked;
  $('input.judgment').prop("disabled",val);
  if (val){
    $('input.judgment').prop("checked",false);
    $('.judgmentRating>input').prop("checked",false);
    $('.judgmentRating').hide();
  } else {
    $('.judgmentRating').show();
  }
}
$("#submitButton").on("click",function(e){
  var ok = $("#judgmentNotSalient")[0].checked || (
    $("input.judgment:checked").length > 0 && $('.judgmentRating>input:checked').length > 0);
  if (!ok){
    e.preventDefault();
    $("#selectWhichCategoryWarning").show();
  } else{ 
    $("#selectWhichCategoryWarning").hide();
  }
});
</script>
<style>
  .badge-orange {
    background-color: darkOrange;
    color: white;
  }
  pre {
   white-space: pre-wrap;       /* css-3 */
   white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
   white-space: -pre-wrap;      /* Opera 4-6 */
   white-space: -o-pre-wrap;    /* Opera 7 */
   word-wrap: break-word;       /* Internet Explorer 5.5+ */
  }
  .judgmentRating {
    margin-left: 1em;
  }
  obsPre, actPre {
    font-style: italic;
    color: #666666;
  }
  .actObs{
    padding: 1em 0;
    border-top: solid grey 1px;
  }
  action {
    /*background-color: lightGray;*/
    font-style: italic;
  }
  .moral-checkbox>label {
    margin-bottom: .5em;
  }
  #story {
    justify-content: center;
  }
  #story-display {
    padding: 1em 1em 0 1em;
    border: black solid 1px;
    border-radius: 5px;
    background: #F6EFE4;
    margin-bottom: 2em;
  }
  .sublist {
    font-size: .8rem;
  }
  .bigger-badge {
    font-size: .9rem;
  }
</style>